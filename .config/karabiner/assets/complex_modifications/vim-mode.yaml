title: ▊ Vim Mode
version: "0.1"
maintainers:
  - pseudometa
import-url: karabiner://karabiner/assets/complex_modifications/import?url=https://github.com/chrisgrieser/dotfiles/blob/main/.config/karabiner/assets/complex_modifications/vim-mode.json
homepage: https://github.com/chrisgrieser/dotfiles/karabiner
rules:
  - description: '▊ Vim Mode Trigger: L-⇧ (alone)'
    manipulators:
      - type: basic
        from:
          key_code: left_shift
        to:
          - key_code: left_shift
        conditions:
          - value: 1
            type: variable_unless
            name: VIM_MODE
          - type: frontmost_application_unless
            bundle_identifiers:
              - ^md\.obsidian$
              - ^com\.sublimetext\.4$
        parameters:
          basic.to_if_alone_timeout_milliseconds: 150
        to_if_alone:
          - set_variable:
              name: VIM_MODE
              value: 1
          - set_notification_message:
              id: vim-mode-notice
              text: ▊ Vim Mode
      - type: basic
        description: '2x L-⇧: Exit Vim Mode'
        from:
          key_code: left_shift
        to:
          - key_code: left_shift
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to_if_alone:
          - set_variable:
              name: VIM_MODE
              value: 0
          - set_notification_message:
              id: vim-mode-notice
              text: ""
  - description: ▊ Vim Mode (Highlights App, needs to be further top)
    manipulators:
      - type: basic
        from:
          key_code: j
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
          - type: frontmost_application_if
            bundle_identifiers:
              - ^net\.highlightsapp\.universal$
        to:
          - key_code: down_arrow
          - key_code: down_arrow
          - key_code: down_arrow
          - key_code: down_arrow
          - key_code: down_arrow
          - key_code: down_arrow
          - key_code: down_arrow
          - key_code: down_arrow
          - key_code: down_arrow
          - key_code: down_arrow
          - key_code: down_arrow
          - key_code: down_arrow
          - key_code: down_arrow
          - key_code: down_arrow
          - key_code: down_arrow
      - type: basic
        from:
          key_code: k
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
          - type: frontmost_application_if
            bundle_identifiers:
              - ^net\.highlightsapp\.universal$
        to:
          - key_code: up_arrow
          - key_code: up_arrow
          - key_code: up_arrow
          - key_code: up_arrow
          - key_code: up_arrow
          - key_code: up_arrow
          - key_code: up_arrow
          - key_code: up_arrow
          - key_code: up_arrow
          - key_code: up_arrow
          - key_code: up_arrow
          - key_code: up_arrow
          - key_code: up_arrow
          - key_code: up_arrow
          - key_code: up_arrow
      - type: basic
        from:
          key_code: j
          modifiers:
            mandatory:
              - shift
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - key_code: down_arrow
            modifiers:
              - option
      - type: basic
        from:
          key_code: k
          modifiers:
            mandatory:
              - shift
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - key_code: up_arrow
            modifiers:
              - option
  - description: '▊ Vim Mode Actions: hjklHJKLebG xuCDiIaAoO<Esc> UäÄ<Space><S-Space><A-Space>R'
    manipulators:
      - type: basic
        description: 'Esc: Insert Mode (Exit Vim Mode)'
        from:
          key_code: escape
        conditions:
          - value: 0
            type: variable_unless
            name: VIM_MODE
        to:
          - set_variable:
              name: VIM_MODE
              value: 0
          - set_notification_message:
              id: vim-mode-notice
              text: ""
      - type: basic
        description: 'Hyper (Esc): Insert Mode (Exit Vim Mode)'
        from:
          key_code: caps_lock
        conditions:
          - value: 0
            type: variable_unless
            name: VIM_MODE
        to_if_alone:
          - set_variable:
              name: VIM_MODE
              value: 0
          - set_notification_message:
              id: vim-mode-notice
              text: ""
      - type: basic
        description: 'i: Insert Mode (Exit Vim Mode)'
        from:
          key_code: i
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - set_variable:
              name: VIM_MODE
              value: 0
          - set_notification_message:
              id: vim-mode-notice
              text: ""
      - type: basic
        description: 'a: Insert Mode (Exit Vim Mode)'
        from:
          key_code: a
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - set_variable:
              name: VIM_MODE
              value: 0
          - set_notification_message:
              id: vim-mode-notice
              text: ""
      - type: basic
        from:
          key_code: i
          modifiers:
            mandatory:
              - shift
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - key_code: left_arrow
            modifiers:
              - command
          - set_variable:
              name: VIM_MODE
              value: 0
          - set_notification_message:
              id: vim-mode-notice
              text: ""
      - type: basic
        from:
          key_code: a
          modifiers:
            mandatory:
              - shift
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - key_code: right_arrow
            modifiers:
              - command
          - set_variable:
              name: VIM_MODE
              value: 0
          - set_notification_message:
              id: vim-mode-notice
              text: ""
      - type: basic
        from:
          key_code: j
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - key_code: down_arrow
      - type: basic
        from:
          key_code: k
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - key_code: up_arrow
      - type: basic
        from:
          key_code: l
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - key_code: right_arrow
      - type: basic
        from:
          key_code: h
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - key_code: left_arrow
      - type: basic
        from:
          key_code: e
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - key_code: right_arrow
            modifiers:
              - option
      - type: basic
        from:
          key_code: w
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - key_code: right_arrow
            modifiers:
              - option
      - type: basic
        from:
          key_code: b
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - key_code: left_arrow
            modifiers:
              - option
      - type: basic
        from:
          key_code: x
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - key_code: delete_or_backspace
      - type: basic
        from:
          key_code: u
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
          - type: input_source_if
            input_sources:
              - language: ^de$
        to:
          - key_code: "y"
            modifiers:
              - command
      - type: basic
        from:
          key_code: u
          modifiers:
            mandatory:
              - shift
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
          - type: input_source_if
            input_sources:
              - language: ^de$
        to:
          - key_code: "y"
            modifiers:
              - command
              - shift
      - type: basic
        from:
          key_code: c
          modifiers:
            mandatory:
              - shift
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - key_code: right_arrow
            modifiers:
              - command
              - shift
          - key_code: delete_or_backspace
          - set_variable:
              name: VIM_MODE
              value: 0
          - set_notification_message:
              id: vim-mode-notice
              text: ""
      - type: basic
        from:
          key_code: d
          modifiers:
            mandatory:
              - shift
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - key_code: right_arrow
            modifiers:
              - command
              - shift
          - key_code: delete_or_backspace
      - type: basic
        from:
          key_code: h
          modifiers:
            mandatory:
              - shift
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - key_code: left_arrow
            modifiers:
              - command
      - type: basic
        from:
          key_code: l
          modifiers:
            mandatory:
              - shift
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - key_code: right_arrow
            modifiers:
              - command
      - type: basic
        from:
          key_code: o
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - key_code: right_arrow
            modifiers:
              - command
          - key_code: return_or_enter
          - set_variable:
              name: VIM_MODE
              value: 0
          - set_notification_message:
              id: vim-mode-notice
              text: ""
      - type: basic
        from:
          key_code: o
          modifiers:
            mandatory:
              - shift
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - key_code: left_arrow
            modifiers:
              - command
          - key_code: return_or_enter
          - key_code: up_arrow
          - set_variable:
              name: VIM_MODE
              value: 0
          - set_notification_message:
              id: vim-mode-notice
              text: ""
      - type: basic
        from:
          key_code: g
          modifiers:
            mandatory:
              - shift
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - key_code: down_arrow
            modifiers:
              - command
      - type: basic
        from:
          key_code: j
          modifiers:
            mandatory:
              - shift
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - key_code: down_arrow
          - key_code: down_arrow
          - key_code: down_arrow
          - key_code: down_arrow
          - key_code: down_arrow
          - key_code: down_arrow
      - type: basic
        from:
          key_code: k
          modifiers:
            mandatory:
              - shift
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - key_code: up_arrow
          - key_code: up_arrow
          - key_code: up_arrow
          - key_code: up_arrow
          - key_code: up_arrow
          - key_code: up_arrow
      - type: basic
        description: 'Space: ciw'
        from:
          key_code: spacebar
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - set_variable:
              name: VIM_MODE
              value: 0
          - set_notification_message:
              id: vim-mode-notice
              text: ""
          - key_code: right_arrow
            modifiers:
              - option
          - key_code: delete_or_backspace
            modifiers:
              - option
      - type: basic
        description: 'Alt-Space: yiw'
        from:
          key_code: spacebar
          modifiers:
            mandatory:
              - shift
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - set_variable:
              name: VIM_MODE
              value: 0
          - set_notification_message:
              id: vim-mode-notice
              text: ""
          - key_code: right_arrow
            modifiers:
              - option
          - key_code: left_arrow
            modifiers:
              - option
              - shift
          - key_code: c
            modifiers:
              - command
      - type: basic
        description: 'S-Space: daw'
        from:
          key_code: spacebar
          modifiers:
            mandatory:
              - shift
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
        to:
          - key_code: right_arrow
            modifiers:
              - option
          - key_code: delete_or_backspace
            modifiers:
              - option
          - key_code: delete_or_backspace
      - type: basic
        description: 'ä (German Keyboard): Transpose Chars'
        from:
          key_code: quote
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
          - type: input_source_if
            input_sources:
              - language: ^de$
        to:
          - key_code: left_arrow
            modifiers:
              - shift
          - key_code: vk_none
            hold_down_milliseconds: 35
          - key_code: x
            modifiers:
              - command
          - key_code: vk_none
            hold_down_milliseconds: 35
          - key_code: right_arrow
          - key_code: vk_none
            hold_down_milliseconds: 35
          - key_code: v
            modifiers:
              - command
      - type: basic
        description: 'Ä (German Layout): Transpose Words'
        from:
          key_code: quote
          modifiers:
            mandatory:
              - shift
        conditions:
          - value: 1
            type: variable_if
            name: VIM_MODE
          - type: input_source_if
            input_sources:
              - language: ^de$
        to:
          - key_code: right_arrow
          - key_code: vk_none
            hold_down_milliseconds: 10
          - key_code: left_arrow
            modifiers:
              - option
          - key_code: vk_none
            hold_down_milliseconds: 10
          - key_code: right_arrow
            modifiers:
              - option
              - shift
          - key_code: right_arrow
            modifiers:
              - shift
          - key_code: vk_none
            hold_down_milliseconds: 10
          - key_code: x
            modifiers:
              - command
          - key_code: vk_none
            hold_down_milliseconds: 10
          - key_code: right_arrow
            modifiers:
              - option
          - key_code: right_arrow
          - key_code: vk_none
            hold_down_milliseconds: 10
          - key_code: v
            modifiers:
              - command
          - key_code: vk_none
            hold_down_milliseconds: 10
          - key_code: left_arrow
            modifiers:
              - option
