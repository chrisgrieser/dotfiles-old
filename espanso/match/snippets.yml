# https://espanso.org/docs/
# ------------------------------------------

matches:
  # MARKDOWN
  # ",,lang " will create a code block of the respective language and prefill
  # it with the clipboard content
  - regex: ",,(?P<lang>\\w*) "
    replace: "\n```{{lang}}\n{{clipb}}\n```"
    vars:
      - name: clipb
        type: shell
        params:
          # non-macs will requite a different command
          cmd: "pbpaste | tr '\t' '  '"
          shell: bash

  - trigger: TTT
    replace: "%% \n- [ ] $|$\n%%\n"
    label: Commented MD Task
  - trigger: ttt
    replace: '- [ ] '
    label: Markdown Task
  - trigger: '!references'
    replace: |
      ::: {#refs}
      :::
    label: Pandoc References

  # EMOJIS
  - trigger: '!no'
    replace: ‚ùå
    label: ‚ùå
  - trigger: '!yes'
    replace: ‚úÖ
    label: ‚úÖ
  - trigger: ' <3'
    replace: " üíô"
    label: Blue Heart

  # SYSTEM
  # Print the current date
  - trigger: "!today"
    replace: "{{todayISO}}"
    vars:
      - name: todayISO
        type: date
        params:
          format: "%Y-%m-%d"

  # Print the output of a shell command
  - trigger: "!version"
    replace: "{{output}}"
    vars:
      - name: output
        type: shell
        params:
          cmd: "echo -n macOS $(sw_vers -productVersion)"
  - trigger: "!resolution"
    replace: "{{output}}"
    vars:
      - name: output
        type: shell
        params:
          cmd: "osascript -e 'tell application \"Finder\" to get bounds of window of desktop' | cut -d ' ' -f 3,4"
