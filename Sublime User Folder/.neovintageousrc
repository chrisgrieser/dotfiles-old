""""""""""""""""""""""
" < Leader
""""""""""""""""""""""
let mapleader=,

""""""""""""""""""""""
" < Clipboard
""""""""""""""""""""""
" yank to system clipboard
" set via setting: "vintageous_use_sys_clipboard": true,

" show register (i.e., clipboard history)
noremap <C-y> :reg<CR>

" Y consistent with D and C to the end of line
nnoremap Y y$

" always paste what was yanked (y), not what was deleted (d or c)
nnoremap P "0p

""""""""""""""""""""""
" < Search
""""""""""""""""""""""
" search w/o having to press enter
set ignorecase
set smartcase
set incsearch
set hlsearch

" no modfier key for jumping to next word
nnoremap + *

" quicker find mode (by mirroring American keyboard layout on German keyboard layout)
nnoremap - /

" [M]ute search highlights
nnoremap <C-m> :nohlsearch<CR>

""""""""""""""""""""""
" < Nagivation
""""""""""""""""""""""

" Have j and k navigate visual lines rather than logical ones
nnoremap j gj
nnoremap k gk
vnoremap j gj
vnoremap k gk

" HJKL behaves like hjkl, but bigger distance (best used with scroll offset plugin)
nnoremap H ^
vnoremap H ^
nnoremap L $
vnoremap L $
nnoremap J 7j
nnoremap K 7k

" Hard Mode: Turn off arrow keys for learning
" needs a remap, since unmap does not work on
" builtin keys, "noop" being non-existent command
nnoremap <Right> <Nop>
nnoremap <Left> <Nop>
nnoremap <Up> <Nop>
nnoremap <Down> <Nop>
vnoremap <Right> <Nop>
vnoremap <Left> <Nop>
vnoremap <Up> <Nop>
vnoremap <Down> <Nop>

" Goto Mark
nnoremap Ã¶ `

" rebuild %, which is missing, https://github.com/NeoVintageous/NeoVintageous/issues/825
nnoremap % :MoveTo to=brackets<CR>

""""""""""""""""""""""
" < g commands
""""""""""""""""""""""

" Goto Definition
nnoremap gd :LspSymbolDefinition side_by_side=false<CR>

" [g]oto [s]ymbol
nnoremap gs :ShowOverlay overlay=goto text=@<CR>
vnoremap gs :ShowOverlay overlay=goto text=@<CR>
nnoremap gS :GotoComment<CR>
vnoremap gS :GotoComment<CR>

" [g]oto [o]pen file (= Quick Switcher)
nnoremap go :OpenBrowse<CR>
vnoremap go :OpenBrowse<CR>

""""""""""""""""""""""
" < Indentation
""""""""""""""""""""""

" Make indention work like in other editors
nnoremap <Tab> >>
nnoremap <S-Tab> <<
vnoremap <Tab> >gv
vnoremap <S-Tab> <gv

""""""""""""""""""""""
" < Editing
""""""""""""""""""""""

" [M]erge lines
noremap M J

" backspace works in normal mode like in insert mode & consistent with <Del>
nnoremap <BS> h"_x
vnoremap <BS> "_d

" don't save small deletion in the register
nnoremap x "_x

" Undo/Redo consistently on one key
noremap U <C-r>

" allows Double Enter to add new line and indent bullet points
nnoremap <CR> A

" Case Switch, h to enable vertical case-switching
nnoremap Ãœ ~h
" Capitalcase
nnoremap Ã¼ mzguiw~`z

" Transpose current & next char
" insert mode done via Sublime's build in command imap <C-t> xph
nnoremap Ã¤ xp

" Transpose current & next word
nnoremap Ã„ dawelpb

" Add Blank Line above/below
nnoremap = mzO<Esc>`z
nnoremap _ mzo<Esc>`z

" Remove Line above/below
nnoremap <leader>0 mzk"_dd`z
nnoremap <leader>- mzj"_dd`z

" Append ,;.": to end of line
nnoremap <leader>, mzA,<Esc>`z
nnoremap <leader>; mzA;<Esc>`z
nnoremap <leader>. mzA.<Esc>`z
nnoremap <leader>" mzA"<Esc>`z
nnoremap <leader>: mzA:<Esc>`z
nnoremap <leader>) mzA)<Esc>`z
nnoremap <leader>] mzA]<Esc>`z

" Remove last character from line
nnoremap X mz$"_x`z

""""""""""""""""""""""
" < Text Objects
""""""""""""""""""""""

" Change Word/Selection
nnoremap <Space> "_ciw
vnoremap <Space> "vc

" Delete Word/Selection
nnoremap <S-Space> "_daw
vnoremap <S-Space> "d

" Yank Word/Selection (alt+space)
nnoremap <M-Space> yiw
vnoremap <M-Space> y

" [R]eplace Word with register content
nnoremap R viw"0p
vnoremap R "0P

" `vas` emulation
nnoremap S v(o)h

""""""""""""""""""""""
" < Switch Modes
""""""""""""""""""""""
" implemented via preference 'vintageous_i_escape_jj'
" inoremap jj <Esc>

""""""""""""""""""""""
" < Insert Mode
""""""""""""""""""""""
" implemented via in "Default (OSX).sublime-keymap"
" since neovintageousrc cannot do that in its rc file

""""""""""""""""""""""
" < Surround
""""""""""""""""""""""
" emulate some smarter punctuation bindings from Smarter MD Hotkeys
nnoremap <C-2> ysiw"
vnoremap <C-2> S"

nnoremap <C-0> ysiw]
vnoremap <C-0> iwoiwS]

nnoremap <C-8> ysiw)
vnoremap <C-8> iwoiwS)
nnoremap <C-9> ysiw)
vnoremap <C-9> iwoiwS)

""""""""""""""""""""""
" < not needed
""""""""""""""""""""""
" Tabs, Folding, and Sneak already built in

""""""""""""""""""""""
" < Windows
""""""""""""""""""""""

" https://vimhelp.org/index.txt.html#CTRL-W
nnoremap <C-w><C-w> :FocusNeighboringGroup<CR>
vnoremap <C-w><C-w> :FocusNeighboringGroup<CR>
nnoremap <C-w>w :FocusNeighboringGroup<CR>
vnoremap <C-w>w :FocusNeighboringGroup<CR>
nnoremap Â° :FocusNeighboringGroup<CR>
vnoremap Â° :FocusNeighboringGroup<CR>

" These require the Origami Plugin for Sublime
" https://github.com/SublimeText/Origami/blob/master/Origami.sublime-commands
nnoremap <C-w>+ :ZoomPane fraction=0.9<CR>
nnoremap <C-w>- :UnzoomPane<CR>

""""""""""""""""""""""
" < Sorting
"""""""""""""""""""""

" [s]ort [s]election
vnoremap <leader>ss :'<,'>sort<CR>

" [s]ort [a]rray, if multi-line (+ remove duplicates)
nnoremap <leader>sa vi]:sort u<CR>

" [s]ort [g]lobally
nnoremap <leader>sg :sort<CR>

" [s]ort [p]aragraph
nnoremap <leader>sp vip:sort<CR>

""""""""""""""""""""""
" < Misc
""""""""""""""""""""""
" help
noremap <leader>? :help nv<CR>

"""""""""""""""""""""""""""""
" < Neovintageous Limitations
"""""""""""""""""""""""""""""
" - Normal `map` (as opposed to noremap) is not supported
"   any i command ðŸ™ˆ
" - as opposed to Obsdian, excommands (e.g. :help) need to be
"   confirmed/ended with an <CR> when done in the vimrc
" - macros are not saved to a register
" - gi does not work https://github.com/NeoVintageous/NeoVintageous/issues/810

" - Neovintageous does not allow for any insert mode modifications, these need
"   to be done in Sublime, with
"   "context": [{"key": "vi_insert_mode_aware"}]

""""""""""""""""""""""
" < unused keys
""""""""""""""""""""""
" Ã– Â§ ! & Â° Q ? |
" rarely used: 0 # Z
" Special: <BS>, <Right>, <Left>, <Up>, <Down>, <End>
" maybe <Ins>/<Insert>?
" remap <Esc> to F17?
